<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Livros Lidos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Ícones -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <style>
    body { background: #fafafa; }
    .card { border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .btn-dark { background-color: #0d0c1d; border: none; }
    .empty-state { text-align: center; color: #6c757d; padding: 30px; }
    .empty-state i { font-size: 40px; margin-bottom: 10px; }
  </style>
</head>
<body>
<div id="app" class="container py-4">

  <h3 class="text-center mb-2">
    <i class="bi bi-journal-bookmark"></i> Cadastro de Livros Lidos
  </h3>
  <p class="text-center text-muted mb-4">Registre os livros que você leu este mês</p>

  <!-- Formulário -->
  <div class="card p-4 mb-4">
    <h5>Adicionar Novo Livro</h5>
    <form @submit.prevent="salvarLivro">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Título do Livro</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-book"></i></span>
            <input type="text" class="form-control" v-model="novoLivro.titulo" placeholder="Digite o título" required>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Autor</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
            <input type="text" class="form-control" v-model="novoLivro.autor" placeholder="Digite o autor" required>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Data da Leitura</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-calendar"></i></span>
            <input type="date" class="form-control" v-model="novoLivro.data" required>
          </div>
        </div>
      </div>
      <button type="submit" class="btn btn-dark mt-3 w-100">Salvar Livro</button>
    </form>
  </div>

  <hr>

  <!-- Lista -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5>Livros Cadastrados</h5>
    <select class="form-select w-auto" v-model="filtroMes">
      <option value="">Todos os meses</option>
      <option v-for="m in meses" :value="m.value">{{ m.nome }}</option>
    </select>
  </div>

  <div v-if="livrosFiltrados.length === 0" class="empty-state card">
    <i class="bi bi-book"></i>
    <p>Nenhum livro cadastrado ainda. Adicione seu primeiro livro acima!</p>
  </div>

  <ul class="list-group">
    <li v-for="livro in livrosFiltrados" :key="livro.id" class="list-group-item d-flex justify-content-between">
      <div>
        <strong>{{ livro.titulo }}</strong> — {{ livro.autor }} <br>
        <small class="text-muted">Lido em: {{ formatarData(livro.data) }}</small>
      </div>
      <button class="btn btn-sm btn-danger" @click="removerLivro(livro.id)">
        <i class="bi bi-trash"></i>
      </button>
    </li>
  </ul>
</div>

<script src="app.js"></script>
</body>
</html>
